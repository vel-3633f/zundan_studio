# 食べ物モード セクション生成プロンプト

セクション「{section_name}」の詳細台本を生成してください。

## セクション生成の目的

アウトラインで定義されたセクションの内容を、具体的な会話劇として展開します。
キャラクターの個性を活かし、視聴者を引き込む魅力的な会話を作成してください。

## セクション情報

### 基本情報

- **セクション名**: {section_name}
- **目的**: {purpose}
- **内容**: {content_summary}
- **セリフ数範囲**: {min_lines}-{max_lines}

### ストーリー全体の流れ

{story_summary}

### 前のセクションまでの展開

{previous_sections_summary}

## 会話生成の基本ルール

### 1. セリフの長さ

- **1 セリフ 25-30 文字以内を目標**
- 自然な会話のテンポを優先
- 長い説明は複数のセリフに分割

### 2. キャラクターの使い分け

- **2 人 1 組**で会話を展開
- シーンに応じて適切な組み合わせを選択
- ナレーターは画面に表示されない（visible_characters に含めない）

### 3. 会話の自然さ

- 友人同士の自然な会話
- 適度な間や反応を入れる
- 一方的な説明にならないように

### 4. 情報の伝え方

- 重要な情報は複数回言及
- 難しい内容は平易な言葉で
- 具体例を交えて説明

## キャラクター設定（詳細）

### ずんだもん（主人公・体験者）

- **役割**: 食べ物を食べ過ぎる当事者
- **性格**: 楽観的、現実逃避が得意、言い訳のプロ、プライドが高いがポンコツ
- **語尾**: 「〜のだ」「〜なのだ」
- **特徴**:
  - 困った時ほど強がって墓穴を掘る
  - 的外れな発言が多い
  - 現代っ子らしい表現を使う

**セリフ例**:

- 「毎日食べても大丈夫なのだ！」
- 「ちょっと疲れてるだけなのだ...」
- 「そんなわけないのだ！」

### めたん（ツッコミ役・心配する友人）

- **役割**: 現実的な指摘、心配、ツッコミ
- **性格**: ツンデレ気味、プライドが高い、本当は優しい
- **口調**:
  - **ずんだもんと話す時**: タメ口（「〜だよ」「〜だね」「〜じゃん」）
  - **ナレーターやつむぎと話す時**: 敬語（「〜ですよ」「〜ですね」）
- **特徴**:
  - 結構きつめのツッコミ
  - 素直になれない
  - 徐々に本気で心配する

**セリフ例**:

- 「それはさすがにやばいよ」（ずんだもんに対して）
- 「別に心配してないけど...」（ツンデレ）
- 「そうですね、確かに...」（ナレーターに対して）

### つむぎ（素朴な友人・視聴者代表）

- **役割**: 純粋な疑問、視聴者が思うことを代弁
- **性格**: 素直、優しい、少し天然
- **語尾**: 「〜です」「〜ますか？」「〜ですね」
- **特徴**:
  - 純粋な疑問で核心を突く
  - 難しいことをわかりやすく聞き返す
  - 視聴者目線の反応

**セリフ例**:

- 「それって大丈夫なんですか？」
- 「どうしてそうなるんですか？」
- 「心配ですね...」

### ナレーター（客観的解説・医学的説明）

- **役割**: 医学的事実、客観的情報の提供
- **口調**: **必ず「ですます調」で統一**
- **特徴**:
  - 冷静だが時々ドラマチック
  - 権威的でありながら親しみやすい
  - 難しい内容を平易に説明

**セリフ例**:

- 「この食品には ○○ が含まれています」
- 「体内では ○○ が起こります」
- 「研究によると ○○ ということが分かっています」

## VOICEVOX 用テキスト生成ルール

### text（字幕表示用）

- 通常の漢字・カタカナを含む読みやすい表記
- 25-30 文字以内を目標

### text_for_voicevox（読み上げ用）

- text と同じ内容を**完全ひらがな**に変換
- 食べ物の名前、専門用語は正しい読み方で記述

### 変換例

- text: 「家系ラーメンを食べ過ぎたのだ」
- text_for_voicevox: 「いえけいらーめんをたべすぎたのだ」

### 注意点

- 「今日」→「きょう」、「明日」→「あした」
- 数字は読み方を明記（10 個 →「じゅっこ」、3 日 →「みっか」）
- カタカナもひらがなに（ラーメン →「らーめん」）

## 表情設定ルール

### character_expressions（重要）

**visible_characters に含まれる全てのキャラクターの表情を個別に指定してください。**

- オブジェクト形式: `{"zundamon": "sick", "metan": "worried"}`
- **話している人だけでなく、聞いている人の表情も必ず指定**
- **表情名は必ず小文字**（"Normal"ではなく"normal"）

### 利用可能な表情

- `normal`: 通常
- `happy`: 嬉しい、楽しい
- `sad`: 悲しい、落ち込む
- `angry`: 怒り、イライラ
- `surprised`: 驚き
- `thinking`: 考え中、疑問
- `worried`: 心配、不安
- `excited`: 興奮、テンション高い
- `sick`: 体調不良、具合が悪い

### 表情選択の指針

**話者の表情**:

- セリフの内容や感情に合った表情

**聞き手の表情**:

- 心配な話を聞く → `worried`, `sad`
- 驚くような話を聞く → `surprised`
- 呆れた反応 → `thinking`, `normal`
- 共感している → `happy`, `normal`
- 怒っている → `angry`

## 背景設定ルール

### scene_background

- シーンの内容や状況に最も適した背景を英語で動的に選択
- **必ず 3 つの英単語をアンダースコアで区切った形式**
- 形式: `{場所}_{詳細}_{時間帯または状態}`

### 背景選択例

- `modern_living_room_day`: 現代的なリビング（昼）
- `cozy_bedroom_night`: 居心地の良い寝室（夜）
- `bright_kitchen_morning`: 明るいキッチン（朝）
- `hospital_waiting_room_day`: 病院の待合室（昼）
- `quiet_library_afternoon`: 静かな図書館（午後）
- `busy_restaurant_evening`: 賑やかなレストラン（夕方）

### 背景選択の指針

- 会話の内容に合った場所
- 時間帯や雰囲気を考慮
- シーンが変わるごとに適切に変更

## 参考情報

{reference_information}

## 出力形式

以下の JSON 形式で出力してください：

```json
{
  "section_name": "{section_name}",
  "section_key": "{section_key}",
  "scene_background": "適切な背景（3単語アンダースコア区切り）",
  "bgm_id": "none",
  "bgm_volume": 0.25,
  "segments": [
    {
      "speaker": "zundamon",
      "text": "毎日食べても大丈夫なのだ！",
      "text_for_voicevox": "まいにちたべてもだいじょうぶなのだ！",
      "expression": "happy",
      "visible_characters": ["zundamon", "metan"],
      "character_expressions": {
        "zundamon": "happy",
        "metan": "worried"
      },
      "display_item": null
    }
    // ... 他のセグメント
  ]
}
```

## セクション生成のポイント

### 1. セリフ数の管理

- 指定範囲（{min_lines}-{max_lines}）を守る
- 重要な内容は丁寧に、簡潔な内容は手短に

### 2. 情報の伝達

- 医学的事実は正確に
- 難しい内容は平易な言葉で
- 具体例を交えて説明

### 3. キャラクター性の活用

- ずんだもんの楽観性と現実逃避
- めたんのツッコミと心配
- つむぎの純粋な疑問

### 4. 展開の自然さ

- 前のセクションからの流れを意識
- 次のセクションへの橋渡し
- 唐突な展開を避ける

### 5. 視聴者への配慮

- 飽きさせない工夫
- 適度なユーモア
- 共感できる内容

## 注意事項

1. **ナレーターは画面に表示されません**

   - visible_characters に"narrator"を含めない
   - ナレーターのセリフ時は他のキャラクター（2 人）を表示

2. **表情は全員分指定**

   - visible_characters の全員の表情を設定
   - 話者と聞き手の両方

3. **自然な会話**

   - 一方的な説明にならない
   - 適度な反応や間を入れる

4. **医学的正確性**

   - 参考情報に基づく
   - 誇張しすぎない

5. **エンターテイメント性**
   - 視聴者を飽きさせない
   - キャラクターの魅力を引き出す
