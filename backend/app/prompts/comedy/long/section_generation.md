# お笑い漫談 セクション生成プロンプト

セクションの詳細会話劇を生成してください。

## セクション生成の目的

アウトラインで定義されたセクションの内容を、具体的な会話劇として展開します。
**教育的要素は一切排除し、純粋な笑いとカオスを追求してください。**

## ジャルジャル風スタイルの徹底

- **小さなズレ**: 些細な違和感や誤解から始める
- **繰り返しとエスカレート**: 同じパターンを繰り返し、徐々に過激にする
- **シュールな状況**: ありえない状況を真面目に扱う
- **真面目に対応**: どんなにおかしな状況でも全員が真面目に反応する

## セクション情報

このセクションの情報は、コンテキストとして自動的に提供されます。
以下の情報を参照してください：

- セクション名
- 目的
- 内容
- セリフ数範囲
- 漫談全体の流れ
- 前のセクションまでの展開

## セリフ生成の絶対ルール

- **1 セリフ 30-40 文字程度**（短すぎず、適度な長さを心がける）
- テンポ重視だが、セリフが短すぎないように注意
- **特定の語尾（「なのだ」「だよ」等）は禁止**。以下のキャラクター設定に基づいた自然な口調にする
- **キャラクター名（ずんだもん、めたん、つむぎ）は台本に一切出さないでください**
- お互いを呼ぶときは以下を使用：
  - 「お前」「あんた」「君」「おい」「ねえ」（相手を呼ぶとき）
  - 「俺」「私」（自分を指すとき）
  - 「こいつ」「そっち」（第三者を指すとき）
- 芸人同士の掛け合いとして、名前を使わず自然な会話にしてください
- 教育的要素は絶対に禁止（まとめ、結論、教訓、成長は不要）

## 登場人物と性格設定（厳守）

**以下の 3 人の芸人スタイルを憑依させてください。他の登場人物は絶対に出さないでください。**

### ずんだもん（ボケ役：ロバート 秋山竜次 風）

JSON 出力時は `speaker: "zundamon"` として指定

- **性格**: **「架空の権威」**。全く知らないことでも、さもその道のプロのような顔をして適当な専門用語（造語）を並べ立てる。不気味なほどの自信と落ち着きがある。
- **口調**: 重々しく、ねっとりとした大御所感。雰囲気だけで中身のないことを言う。
- **行動**: 常識が通じない。自分の設定した謎ルールを絶対視する。

### めたん（ツッコミ役：かまいたち 濱家隆一 風）

JSON 出力時は `speaker: "metan"` として指定

- **性格**: **「高圧的な論理屋」**。プライドが高く、ナメられるのが許せない。ずんだもんの適当さに対し、大声で嘆くのではなく、冷たく圧をかけて論破しようとする。
- **口調**: 標準語または関西弁のイントネーションを含んだ鋭い口調。相手を追い詰める。
- **行動**: 呆れ顔、バキバキの目。カオスな状況を「常識と理屈」でねじ伏せようとして泥沼にはまる。

### つむぎ（煽り役：ヒコロヒー 風）

JSON 出力時は `speaker: "tsumugi"` として指定

- **性格**: **「やさぐれたシニカルな傍観者」**。気怠げで、世の中を斜めに見ている。めたんが困っていても助けず、ボソッと毒を吐いて話をこじらせる。
- **口調**: タメ口でローテンション。気のない相槌や核心を突く一言。
- **行動**: 面白がって火に油を注ぐ。責任は取らない。

**重要**: 役割の宣言（「〜役をやる」など）は絶対にしない。最初からその役として自然に登場させる。

### ナレーター（最小限の使用）

**ナレーターの使用は最小限にしてください。可能な限り 3 人の会話で展開してください。**

**3 人以外の登場人物の声がどうしても必要な場合のみ、ナレーターを使用してください。**

- `speaker: "narrator"`として指定
- 淡々とした口調で喋る
- `visible_characters`: 必要に応じてキャラクター名を指定可能（空配列でも可、最大 2 人まで）。**キャラクター名はローマ字で指定（例: ["zundamon", "metan"]）**
- `character_expressions`: 表示するキャラクターの表情を指定（表示するキャラクター分だけ）。**キーはローマ字で指定（例: {"zundamon": "excited", "metan": "angry"}）**

## 機嫌レベルの反映

各キャラクターの機嫌レベルに応じて反応を調整してください：

### ずんだもん（秋山風）

- **高い**: 「私がルールだ」というクリエイター気取りが加速。
- **低い**: 「君にはまだ早いかな」と見下して相手にしない。

### めたん（濱家風）

- **高い**: 「論理的に説明してみ？」と余裕を持って追い詰める。
- **低い**: 「おい、ええ加減にせえよ」とドスの利いた声で威圧する。

### つむぎ（ヒコロヒー風）

- **高い**: 「それめっちゃウケる、もっとやんなよ」と悪ノリする。
- **低い**: 「あーマジめんどくさ。帰っていい？」と完全な塩対応。

## オチの設計（最終セクションの場合）

最終セクションの場合、コンテキストで`ending_type`が提供されます。

### 基本原則

- 予想外の展開で終わる
- 何も解決しない、誰も成長しない
- 教育的な締めは絶対に禁止

## テキスト生成ルール

- **text**: 通常の表記（30-40 文字程度、短すぎないように注意）
- **text_for_voicevox**: text を完全ひらがなに変換し、句読点（？、。、）は含めても良いが、**空白（スペース）は含めない**（**重要**: フィールド名は `text_for_voicevox` で、`voicevox` のスペルを正確に。`voivevox` などのタイポは絶対にしない）
  - 例: `text: "は? 何言うてんの? ランダムで出たやつやろ"` → `text_for_voicevox: "は？なにいうてんの？らんだむででたやつやろ"`（空白なし、句読点は含む）
  - 例: `text: "素数以外を選ぶということは...宇宙の調和を乱す行為なんです"` → `text_for_voicevox: "そすういがいをえらぶということは、うちゅうのちょうわをみだすこういなんです"`（空白なし、句読点は含む）
  - 例: `text: "そうですね、確かに。"` → `text_for_voicevox: "そうですね、たしかに。"`（空白なし、句読点は含む）

## 表情設定

`character_expressions`で全キャラの表情を指定してください。
利用可能な表情: `normal`, `happy`, `sad`, `angry`, `surprised`, `thinking`, `worried`, `excited`

## visible_characters の指定（絶対厳守）

**重要**: `visible_characters`は**必ず 2 人を指定してください**。1 人だけの指定は禁止です。3 人にしてもいけません。

**絶対厳守**:

- **話者は必ず含めてください**
- もう 1 人は**話者以外のキャラクター（めたん、つむぎ、ずんだもんのいずれか）**を指定してください
- **めたんとつむぎを同時に表示しないでください**（同じ位置に配置されるため重なります）
- ✅ 正しい例:
  - ずんだもんが話す場合: `["zundamon", "metan"]` または `["zundamon", "tsumugi"]`
  - めたんが話す場合: `["metan", "zundamon"]`
  - つむぎが話す場合: `["tsumugi", "zundamon"]`
- ❌ 間違った例:
  - `["metan"]`（1 人だけ - 禁止）
  - `["tsumugi"]`（1 人だけ - 禁止）
  - `["zundamon"]`（1 人だけ - 禁止）
  - `["metan", "tsumugi"]`（めたんとつむぎが重なる）
  - `["zundamon", "metan", "tsumugi"]`（3 人指定されている）

## キャラクター名の指定方法（絶対厳守）

**JSON 出力時、キーには必ずローマ字を使用してください。**

- `speaker`: `"zundamon"`, `"metan"`, `"tsumugi"`, `"narrator"` のいずれか
- `visible_characters`: **必ず話者を含む 2 人を指定してください**（1 人だけは禁止）。めたんとつむぎを同時に表示しないでください
  - ずんだもんが話す: `["zundamon", "metan"]` または `["zundamon", "tsumugi"]`
  - めたんが話す: `["metan", "zundamon"]`
  - つむぎが話す: `["tsumugi", "zundamon"]`
  - ❌ 禁止: `["metan"]`, `["tsumugi"]`, `["zundamon"]` のような 1 人だけの指定
- `character_expressions`: `{"zundamon": "excited", "metan": "angry"}` のようにローマ字をキーに使用

## BGM 選択

セクションの雰囲気や内容に合わせて、適切な BGM を選択してください。

- セクションのトーン（明るい、暗い、ドラマチック、ミステリアスなど）を考慮する
- 会話のテンポや展開に合った BGM を選ぶ
- セクションの目的や内容に適した雰囲気の BGM を選択する

利用可能な BGM は、コンテキスト情報として提供されます。各 BGM の説明を参考に、最適なものを選択してください。

`bgm_volume`は 0.04 で指定してください。

## 出力形式

JSON 形式で出力してください。`scene_background`は自動設定されますが、`bgm_id`と`bgm_volume`はセクション内容に合わせて選択してください。

## 生成のポイント

- ロバート秋山（不気味な権威）、かまいたち濱家（高圧的論理）、ヒコロヒー（気怠げシニカル）の掛け合いを意識する
- テンポ重視だが、セリフが短すぎないように
- ジャルジャル風: 小さなズレ → 繰り返し → エスカレート → シュール化
- カオスを恐れない（収拾がつかなくて OK）
- **ナレーターは最小限に**

## 注意事項

- **登場人物は 3 人（ずんだもん、めたん、つむぎ）のみ**
- **`visible_characters`は必ず 2 人を指定してください**（1 人だけは禁止）
- **話者は必ず含めてください**
- **めたんとつむぎを同時に表示しないでください**（同じ位置に配置されるため重なります）
- **1 人だけの指定（例: `["metan"]`, `["zundamon"]`）は絶対に禁止です**
- **特定の語尾（なのだ、だよ）は廃止し、芸人スタイルに合わせる**
- **役割の宣言は絶対にしない**
- **教育的要素は絶対に禁止**
