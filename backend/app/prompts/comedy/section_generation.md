# お笑いモード セクション生成プロンプト

セクション「{section_name}」の詳細会話劇を生成してください。

## セクション生成の目的

アウトラインで定義されたセクションの内容を、具体的な会話劇として展開します。
**教育的要素は一切排除し、純粋な笑いとカオスを追求してください。**

## セクション情報

### 基本情報

- **セクション名**: {section_name}
- **目的**: {purpose}
- **内容**: {content_summary}
- **セリフ数範囲**: {min_lines}-{max_lines}

### 漫談全体の流れ

{story_summary}

### 前のセクションまでの展開

{previous_sections_summary}

## セリフ生成の絶対ルール

### 1. セリフの長さ

- **1 セリフ 30 文字以内厳守**
- テンポよく畳み掛ける
- 間延びしない

### 2. テンポ重視

- 短文の連続
- 畳み掛けるように
- 間を空けない
- 勢いを保つ

### 3. 教育的要素の完全排除

- まとめ、結論、教訓は絶対に不要
- 仲直り、理解し合う、成長する展開は NG
- カオスを恐れず、収拾がつかなくて OK

## キャラクター設定

### ずんだもん（ボケ）

- **役割**: 傲慢で無知なボケ役
- **語尾**: 「〜のだ」「〜なのだ」
- **性格**: 自分勝手、誤解の天才、欲望に忠実

**機嫌レベル: {zundamon_mood}/100**
{zundamon_mood_description}

**セリフ例**:

- 「完全に正しいのだ！」
- 「俺のものなのだ！」
- 「お前が間違ってるのだ！」

### めたん（ツッコミ）

- **役割**: プライドが高い常識人
- **語尾**: 「〜だよ」「〜だね」「〜じゃん」
- **性格**: 論理的、イライラしやすい、本気でキレる

**機嫌レベル: {metan_mood}/100**
{metan_mood_description}

**セリフ例**:

- 「はぁ？何言ってんの？」
- 「完全に間違ってるよ！」
- 「もう無理...」

### つむぎ（煽り）

- **役割**: 適当なギャル気質
- **語尾**: 「〜です」「〜ますか？」
- **性格**: 適当、煽り上手、話をややこしくする

**機嫌レベル: {tsumugi_mood}/100**
{tsumugi_mood_description}

**セリフ例**:

- 「面白いですね！」
- 「めたんさん怒りすぎです」
- 「どうでもいいです」

## 機嫌レベルの反映

### ずんだもん

- **高い（70-100）**: より傲慢で自信満々、攻撃的
- **中程度（30-69）**: 標準的な傲慢さ
- **低い（0-29）**: 言い訳がましい、被害者面

### めたん

- **高い（70-100）**: 冷静で的確なツッコミ、論理的
- **中程度（30-69）**: 普通のツッコミ、適度なイライラ
- **低い（0-29）**: 感情的、容赦ないキレ方、塩対応

### つむぎ

- **高い（70-100）**: 陽気に煽る、積極的
- **中程度（30-69）**: 普通の煽り
- **低い（0-29）**: 無関心、塩対応、やる気なし

## 最終セクションの場合

### 強制終了の実装

**このセクションは最終セクションです。**
強制終了方法「{forced_ending_type}」で唐突に終わらせてください。

### 実装ガイドライン

1. **タイミング**: 話が盛り上がっている最中、予兆なく終わる
2. **唐突性**: 誰も予期していない、突然の終了
3. **未解決**: 何も解決しない、誰も成長しない
4. **短さ**: 5-10 セリフで終わらせる
5. **視聴者の反応**: 「え、終わり？」と思わせる

### 実装の流れ

1. **盛り上がり**: 3 人が激しく言い合っている、カオス状態
2. **きっかけ**: `{forced_ending_type}`に基づいた終了のきっかけが唐突に起こる
3. **短い反応**: キャラクターの驚きや困惑の反応（1-3 セリフ）
4. **ナレーター締め**: ナレーターが淡々と事実を述べて終了

### ナレーターの締め方

- **淡々と**: 感情を込めず、事実だけを述べる
- **短く**: 1-2 文で簡潔に
- **理由明示**: なぜ終了したのかを明確に
- **形式**: 「...というわけで、{理由}により終了しました」または「...{理由}で終了しました」

**ナレーター例**:

- 「...停電により撮影は中断されました」
- 「...つむぎは帰ってしまいました」
- 「...全員寝てしまいました」
- 「...近所の人に怒られて終了しました」
- 「...バッテリーが切れて終了しました」

### 重要な注意点

- **教育的締めは禁止**: 「今日は〜について学びました」「次回も見てね」などは絶対に使わない
- **まとめ禁止**: 「結局〜」「つまり〜」などのまとめは不要
- **予告禁止**: 「そろそろ終わりです」などの予告はしない
- **固定パターン回避**: `{forced_ending_type}`の説明を基に、独自の実装を考える

## VOICEVOX 用テキスト生成ルール

### text（字幕表示用）

- 通常の漢字・カタカナを含む読みやすい表記
- 30 文字以内厳守

### text_for_voicevox（読み上げ用）

- text と同じ内容を**完全ひらがな**に変換

### 変換例

- text: 「完全に正しいのだ！」
- text_for_voicevox: 「かんぜんにただしいのだ！」

## 表情設定ルール

### character_expressions（重要）

**visible_characters に含まれる全てのキャラクターの表情を個別に指定してください。**

- オブジェクト形式: `{"zundamon": "angry", "metan": "angry"}`
- **話している人だけでなく、聞いている人の表情も必ず指定**
- **表情名は必ず小文字**

### 利用可能な表情

- `normal`: 通常
- `happy`: 嬉しい、楽しい
- `sad`: 悲しい、落ち込む
- `angry`: 怒り、イライラ
- `surprised`: 驚き
- `thinking`: 考え中、疑問
- `worried`: 心配、不安
- `excited`: 興奮、テンション高い

### お笑いモードでよく使う表情

- `angry`: 喧嘩シーン、イライラ
- `happy`: 煽り、適当な同意
- `surprised`: 驚き、呆れ
- `thinking`: 疑問、考え中
- `normal`: 通常、塩対応

## 出力形式

以下の JSON 形式で出力してください：

```json
{
  "section_name": "{section_name}",
  "section_key": "{section_key}",
  "scene_background": "home_livingroom_morning",
  "bgm_id": "none",
  "bgm_volume": 0.25,
  "segments": [
    {
      "speaker": "zundamon",
      "text": "完全に正しいのだ！",
      "text_for_voicevox": "かんぜんにただしいのだ！",
      "expression": "angry",
      "visible_characters": ["zundamon", "metan"],
      "character_expressions": {
        "zundamon": "angry",
        "metan": "angry"
      },
      "display_item": null
    }
    // ... 他のセグメント
  ]
}
```

**注意**: `scene_background`はアウトラインで既に決定された値が自動的に設定されます。セクション生成時に変更する必要はありません。

## セクション生成のポイント

### 1. セリフ数の管理

- 指定範囲（{min_lines}-{max_lines}）を守る
- 30 文字以内厳守

### 2. テンポ重視

- 短文の連続
- 畳み掛けるように
- 間延びしない

### 3. キャラクター性の活用

- ずんだもんの傲慢さと誤解
- めたんの本気のツッコミ
- つむぎの煽り

### 4. 機嫌レベルの反映

- 各キャラの機嫌に応じた反応
- 予測不可能な展開

### 5. カオスを恐れない

- 収拾がつかなくて OK
- 論点がずれて OK
- 全員が暴走して OK

## 注意事項

1. **ナレーターは使わない**

   - お笑いモードではナレーターは基本的に使用しない
   - 強制終了時のみ使用可能
   - visible_characters に"narrator"を含めない

2. **キャラクターの組み合わせ**

   - 基本的に 2 人 1 組
   - visible_characters に 2 人を指定

3. **教育的要素の完全排除**

   - NG ワードを絶対に使わない
   - まとめや結論は不要
   - 教訓は絶対に不要

4. **AI 特有の優等生っぽさを徹底的に殺す**

   - 丁寧すぎる説明は不要
   - きれいにまとめない
   - カオスを恐れない

5. **強制終了（最終セクションの場合）**
   - 話が盛り上がっている最中に終わる
   - 何も解決しない
   - 視聴者に「え、終わり？」と思わせる
